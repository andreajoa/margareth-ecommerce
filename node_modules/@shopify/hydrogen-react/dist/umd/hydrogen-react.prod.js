(function(E,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],u):(E=typeof globalThis<"u"?globalThis:E||self,u(E.hydrogenreact={},E.React))})(this,function(E,u){"use strict";function sn(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const U=sn(u);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function Qe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}var z;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(z||(z={}));var Je={type:"xstate.init"};function Re(e){return e===void 0?[]:[].concat(e)}function ne(e){return{type:"xstate.assign",assignment:e}}function Xe(e,t){return typeof(e=typeof e=="string"&&t&&t[e]?t[e]:e)=="string"?{type:e}:typeof e=="function"?{type:e.name,exec:e}:e}function Te(e){return function(t){return e===t}}function ze(e){return typeof e=="string"?{type:e}:e}function et(e,t){return{value:e,context:t,actions:[],changed:!1,matches:Te(e)}}function tt(e,t,n){var r=t,a=!1;return[e.filter(function(i){if(i.type==="xstate.assign"){a=!0;var o=Object.assign({},r);return typeof i.assignment=="function"?o=i.assignment(r,n):Object.keys(i.assignment).forEach(function(s){o[s]=typeof i.assignment[s]=="function"?i.assignment[s](r,n):i.assignment[s]}),r=o,!1}return!0}),r,a]}function nt(e,t){t===void 0&&(t={});var n=Qe(tt(Re(e.states[e.initial].entry).map(function(o){return Xe(o,t.actions)}),e.context,Je),2),r=n[0],a=n[1],i={config:e,_options:t,initialState:{value:e.initial,actions:r,context:a,matches:Te(e.initial)},transition:function(o,s){var c,l,f=typeof o=="string"?{value:o,context:e.context}:o,y=f.value,g=f.context,d=ze(s),h=e.states[y];if(h.on){var _=Re(h.on[d.type]);try{for(var T=function(V){var ce=typeof Symbol=="function"&&Symbol.iterator,Ee=ce&&V[ce],_e=0;if(Ee)return Ee.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&_e>=V.length&&(V=void 0),{value:V&&V[_e++],done:!V}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(_),b=T.next();!b.done;b=T.next()){var I=b.value;if(I===void 0)return et(y,g);var A=typeof I=="string"?{target:I}:I,v=A.target,m=A.actions,p=m===void 0?[]:m,S=A.cond,P=S===void 0?function(){return!0}:S,R=v===void 0,w=v??y,O=e.states[w];if(P(g,d)){var $=Qe(tt((R?Re(p):[].concat(h.exit,p,O.entry).filter(function(V){return V})).map(function(V){return Xe(V,i._options.actions)}),g,d),3),k=$[0],H=$[1],X=$[2],pe=v??y;return{value:pe,context:H,actions:k,changed:v!==y||k.length>0||X,matches:Te(pe)}}}}catch(V){c={error:V}}finally{try{b&&!b.done&&(l=T.return)&&l.call(T)}finally{if(c)throw c.error}}}return et(y,g)}};return i}var rt=function(e,t){return e.actions.forEach(function(n){var r=n.exec;return r&&r(e.context,t)})};function cn(e){var t=e.initialState,n=z.NotStarted,r=new Set,a={_machine:e,send:function(i){n===z.Running&&(t=e.transition(t,i),rt(t,ze(i)),r.forEach(function(o){return o(t)}))},subscribe:function(i){return r.add(i),i(t),{unsubscribe:function(){return r.delete(i)}}},start:function(i){if(i){var o=typeof i=="object"?i:{context:e.config.context,value:i};t={value:o.value,actions:[],context:o.context,matches:Te(o.value)}}else t=e.initialState;return n=z.Running,rt(t,Je),a},stop:function(){return n=z.Stopped,r.clear(),a},get state(){return t},get status(){return n}};return a}var un=u.useLayoutEffect,at={exports:{}},it={},ot={exports:{}},st={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re=u;function ln(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:ln,fn=re.useState,hn=re.useEffect,yn=re.useLayoutEffect,gn=re.useDebugValue;function mn(e,t){var n=t(),r=fn({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return yn(function(){a.value=n,a.getSnapshot=t,ke(a)&&i({inst:a})},[e,n,t]),hn(function(){return ke(a)&&i({inst:a}),e(function(){ke(a)&&i({inst:a})})},[e]),gn(n),n}function ke(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function pn(e,t){return t()}var En=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pn:mn;st.useSyncExternalStore=re.useSyncExternalStore!==void 0?re.useSyncExternalStore:En,ot.exports=st;var _n=ot.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=u,Sn=_n;function Tn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:Tn,wn=Sn.useSyncExternalStore,An=Ce.useRef,bn=Ce.useEffect,In=Ce.useMemo,vn=Ce.useDebugValue;it.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=An(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=In(function(){function c(d){if(!l){if(l=!0,f=d,d=r(d),a!==void 0&&o.hasValue){var h=o.value;if(a(h,d))return y=h}return y=d}if(h=y,Cn(f,d))return h;var _=r(d);return a!==void 0&&a(h,_)?h:(f=d,y=_)}var l=!1,f,y,g=n===void 0?null:n;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,n,r,a]);var s=wn(e,i[0],i[1]);return bn(function(){o.hasValue=!0,o.value=s},[s]),vn(s),s},at.exports=it;var Pn=at.exports;function On(e){var t=U.useRef();return t.current||(t.current={v:e()}),t.current.v}var Rn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};function kn(e){return e}var Dn=function(e){var t;return e.subscribe(function(n){t=n}).unsubscribe(),t};function Vn(e,t){var n=u.useRef(),r=Rn(On(function(){var s=[],c=cn(nt(e.config,t||e._options)),l=c.send;return c.send=function(f){if(c.status===z.NotStarted){s.push(f);return}l(f),n.current=c.state},[c,s]}),2),a=r[0],i=r[1];un(function(){t&&(a._machine._options=t)});var o=Nn(a);return u.useEffect(function(){return a.start(n.current),i.forEach(a.send),n.current=a.state,function(){a.stop()}},[]),o}var Un=function(e,t){return t.changed===!1};function Nn(e){var t=u.useCallback(function(){return Dn(e)},[e]),n=u.useCallback(function(a){var i=e.subscribe(a).unsubscribe;return i},[e]),r=Pn.useSyncExternalStoreWithSelector(n,t,t,kn,Un);return[r,e.send,e]}function J(e){if(!e){const t=`flattenConnection(): needs a 'connection' to flatten, but received '${e??""}' instead.`;return console.error(t+" Returning an empty array"),[]}return"nodes"in e?e.nodes:"edges"in e&&Array.isArray(e.edges)?e.edges.map(t=>{if(!(t!=null&&t.node))throw new Error("flattenConnection(): Connection edges must contain nodes");return t.node}):[]}const Mn=e=>`
  mutation CartLineAdd(
    $cartId: ID!
    $lines: [CartLineInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesAdd(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Fn=e=>`
  mutation CartCreate(
    $input: CartInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartCreate(input: $input) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Ln=e=>`
  mutation CartLineRemove(
    $cartId: ID!
    $lines: [ID!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesRemove(cartId: $cartId, lineIds: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,xn=e=>`
  mutation CartLineUpdate(
    $cartId: ID!
    $lines: [CartLineUpdateInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesUpdate(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,qn=e=>`
  mutation CartNoteUpdate(
    $cartId: ID!
    $note: String!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartNoteUpdate(cartId: $cartId, note: $note) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,jn=e=>`
  mutation CartBuyerIdentityUpdate(
    $cartId: ID!
    $buyerIdentity: CartBuyerIdentityInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,$n=e=>`
  mutation CartAttributesUpdate(
    $attributes: [AttributeInput!]!
    $cartId: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartAttributesUpdate(attributes: $attributes, cartId: $cartId) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Hn=e=>`
  mutation CartDiscountCodesUpdate(
    $cartId: ID!
    $discountCodes: [String!]
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Bn=e=>`
  query CartQuery(
    $id: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cart(id: $id) {
      ...CartFragment
    }
  }

  ${e}
`,Yn=`
  fragment CartFragment on Cart {
    id
    checkoutUrl
    totalQuantity
    buyerIdentity {
      countryCode
      customer {
        id
        email
        firstName
        lastName
        displayName
      }
      email
      phone
    }
    lines(first: $numCartLines) {
      edges {
        node {
          id
          quantity
          attributes {
            key
            value
          }
          cost {
            totalAmount {
              amount
              currencyCode
            }
            compareAtAmountPerQuantity {
              amount
              currencyCode
            }
          }
          merchandise {
            ... on ProductVariant {
              id
              availableForSale
              compareAtPrice {
                ...MoneyFragment
              }
              price {
                ...MoneyFragment
              }
              requiresShipping
              title
              image {
                ...ImageFragment
              }
              product {
                handle
                title
                id
              }
              selectedOptions {
                name
                value
              }
            }
          }
        }
      }
    }
    cost {
      subtotalAmount {
        ...MoneyFragment
      }
      totalAmount {
        ...MoneyFragment
      }
      totalDutyAmount {
        ...MoneyFragment
      }
      totalTaxAmount {
        ...MoneyFragment
      }
    }
    note
    attributes {
      key
      value
    }
    discountCodes {
      code
      applicable
    }
  }

  fragment MoneyFragment on MoneyV2 {
    currencyCode
    amount
  }
  fragment ImageFragment on Image {
    id
    url
    altText
    width
    height
  }
`,ae="2024-10",Wn="mock.shop",De=e=>e.includes(Wn);function Gn({storeDomain:e,privateStorefrontToken:t,publicStorefrontToken:n,storefrontApiVersion:r=ae,contentType:a}){if(!e)throw new Error(Ve+"`storeDomain` is required when creating a new Storefront client in production.");r!==ae&&Zn(`The Storefront API version that you're using is different than the version this build of Hydrogen React is targeting.
You may run into unexpected errors if these versions don't match. Received version: "${r}"; expected version "${ae}"`);const i=o=>{const s=(o==null?void 0:o.storeDomain)??e;return s.includes("://")?s:`https://${s}`};return{getShopifyDomain:i,getStorefrontApiUrl(o){const s=i(o),c=s+(s.endsWith("/")?"api":"/api");return De(s)?c:`${c}/${(o==null?void 0:o.storefrontApiVersion)??r}/graphql.json`},getPrivateTokenHeaders(o){if(!t&&!(o!=null&&o.privateStorefrontToken)&&!De(e))throw new Error(Ve+"You did not pass in a `privateStorefrontToken` while using `createStorefrontClient()` or `getPrivateTokenHeaders()`");return{"content-type":((o==null?void 0:o.contentType)??a)==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":r,"Shopify-Storefront-Private-Token":(o==null?void 0:o.privateStorefrontToken)??t??"",...o!=null&&o.buyerIp?{"Shopify-Storefront-Buyer-IP":o.buyerIp}:{}}},getPublicTokenHeaders(o){if(!n&&!(o!=null&&o.publicStorefrontToken)&&!De(e))throw new Error(Ve+"You did not pass in a `publicStorefrontToken` while using `createStorefrontClient()` or `getPublicTokenHeaders()`");const s=(o==null?void 0:o.contentType)??a??"json";return ct(s,r,(o==null?void 0:o.publicStorefrontToken)??n??"")}}}function ct(e,t,n){return{"content-type":e==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":t,"X-Shopify-Storefront-Access-Token":n}}const ut=new Set,Ve="[h2:error:createStorefrontClient] ",Zn=(e,t="warn")=>{ut.has(e)||(console[t](`[h2:${t}:createStorefrontClient] `+e),ut.add(e))},lt={storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:ae,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}},dt=u.createContext(lt);function Kn(){var e,t,n;if(typeof window>"u")return!1;try{const r=(t=(e=window.performance)==null?void 0:e.getEntriesByType)==null?void 0:t.call(e,"navigation")[0];return!!((n=r==null?void 0:r.serverTiming)!=null&&n.some(a=>a.name==="_sfapi_proxy"))}catch{return!1}}function Qn({children:e,...t}){if(!t.countryIsoCode||!t.languageIsoCode||!t.storeDomain||!t.storefrontToken||!t.storefrontApiVersion)throw new Error("Please provide the necessary props to '<ShopifyProvider/>'");t.storefrontApiVersion!==ae&&console.warn(`<ShopifyProvider/>: This version of Hydrogen React is built for Shopify's Storefront API version ${ae}, but it looks like you're using version ${t.storefrontApiVersion}. There may be issues or bugs if you use a mismatched version of Hydrogen React and the Storefront API.`);const n=u.useMemo(()=>{const r=t.sameDomainForStorefrontApi??Kn();function a(i){const o=(i==null?void 0:i.storeDomain)??t.storeDomain;return o.includes("://")?o:`https://${o}`}return{...t,sameDomainForStorefrontApi:r,getPublicTokenHeaders(i){return ct(i.contentType,t.storefrontApiVersion,i.storefrontToken??t.storefrontToken)},getShopifyDomain:a,getStorefrontApiUrl(i){const o=r&&typeof window<"u"?window.location.origin:a({storeDomain:(i==null?void 0:i.storeDomain)??t.storeDomain});return`${o}${o.endsWith("/")?"":"/"}api/${(i==null?void 0:i.storefrontApiVersion)??t.storefrontApiVersion}/graphql.json`}}},[t]);return React.createElement(dt.Provider,{value:n},e)}function ue(){const e=u.useContext(dt);if(!e)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return e}const Ue="shopifyCartId",ft="Shopify-Storefront-Id",ht="Shopify-Storefront-Y",yt="Shopify-Storefront-S",we="_shopify_y",Ae="_shopify_s",Ne="X-Shopify-VisitToken",Me="X-Shopify-UniqueToken",Fe={current:null};function ee(e){var n,r,a;let t;if(typeof window<"u"&&typeof window.performance<"u")try{const i=/^https?:\/\/([^/]+)(\/api\/(?:unstable|2\d{3}-\d{2})\/graphql\.json(?=$|\?))?/,o=performance.getEntriesByType("resource");let s;for(let c=o.length-1;c>=0;c--){const l=o[c];if(l.initiatorType!=="fetch")continue;const f=window.location.host,y=l.name.match(i);if(!y)continue;const[,g,d]=y;if(g===f||d&&(g==null?void 0:g.endsWith(`.${f}`))){const _=gt(l);if(_){s=_;break}}}if(s&&(t=s),t?Fe.current=t:Fe.current&&(t=Fe.current),!t){const c=performance.getEntriesByType("navigation")[0];t=gt(c,!1)}}catch{}if(!t){const i=typeof e=="string"?e:typeof document<"u"?document.cookie:"";t={uniqueToken:((n=i.match(/\b_shopify_y=([^;]+)/))==null?void 0:n[1])||"",visitToken:((r=i.match(/\b_shopify_s=([^;]+)/))==null?void 0:r[1])||"",consent:((a=i.match(/\b_tracking_consent=([^;]+)/))==null?void 0:a[1])||""}}return t}function gt(e,t=!0){let n="",r="",a="";const i=e.serverTiming;if(i&&i.length>=3)for(let o=i.length-1;o>=0;o--){const{name:s,description:c}=i[o];if(!(!s||!c)&&(s==="_y"?n=c:s==="_s"?r=c:s==="_cmp"&&(a=c),n&&r&&a))break}return n&&r&&(!t||a)?{uniqueToken:n,visitToken:r,consent:a}:void 0}function Jn(){const{storefrontId:e,getPublicTokenHeaders:t,getStorefrontApiUrl:n,sameDomainForStorefrontApi:r}=ue();return u.useCallback(({query:a,variables:i})=>{const o=t({contentType:"json"});if(e&&(o[ft]=e),!r){const{uniqueToken:s,visitToken:c}=ee();s&&(o[ht]=s,o[Me]=s),c&&(o[yt]=c,o[Ne]=c)}return fetch(n(),{method:"POST",headers:o,body:JSON.stringify({query:a.toString(),variables:i})}).then(s=>s.json()).catch(s=>({data:void 0,errors:s==null?void 0:s.toString()}))},[t,e,n,r])}function Xn({numCartLines:e,cartFragment:t,countryCode:n="US",languageCode:r="EN"}){const a=Jn(),i=u.useCallback(h=>a({query:Bn(t),variables:{id:h,numCartLines:e,country:n,language:r}}),[a,t,e,n,r]),o=u.useCallback(h=>a({query:Fn(t),variables:{input:h,numCartLines:e,country:n,language:r}}),[t,n,a,e,r]),s=u.useCallback((h,_)=>a({query:Mn(t),variables:{cartId:h,lines:_,numCartLines:e,country:n,language:r}}),[t,n,a,e,r]),c=u.useCallback((h,_)=>a({query:xn(t),variables:{cartId:h,lines:_,numCartLines:e,country:n,language:r}}),[t,n,a,e,r]),l=u.useCallback((h,_)=>a({query:Ln(t),variables:{cartId:h,lines:_,numCartLines:e,country:n,language:r}}),[t,n,a,e,r]),f=u.useCallback((h,_)=>a({query:qn(t),variables:{cartId:h,note:_,numCartLines:e,country:n,language:r}}),[a,t,e,n,r]),y=u.useCallback((h,_)=>a({query:jn(t),variables:{cartId:h,buyerIdentity:_,numCartLines:e,country:n,language:r}}),[t,n,a,e,r]),g=u.useCallback((h,_)=>a({query:$n(t),variables:{cartId:h,attributes:_,numCartLines:e,country:n,language:r}}),[t,n,a,e,r]),d=u.useCallback((h,_)=>a({query:Hn(t),variables:{cartId:h,discountCodes:_,numCartLines:e,country:n,language:r}}),[t,n,a,e,r]);return u.useMemo(()=>({cartFetch:i,cartCreate:o,cartLineAdd:s,cartLineUpdate:c,cartLineRemove:l,noteUpdate:f,buyerIdentityUpdate:y,cartAttributesUpdate:g,discountCodesUpdate:d,cartFragment:t}),[i,o,s,c,l,f,y,g,d,t])}function Y(e,t){return{entry:[...(t==null?void 0:t.entryActions)||[],ne({lastValidCart:n=>n==null?void 0:n.cart}),"onCartActionEntry","onCartActionOptimisticUI",e],on:{RESOLVE:{target:(t==null?void 0:t.resolveTarget)||"idle",actions:[ne({prevCart:n=>n==null?void 0:n.lastValidCart,cart:(n,r)=>{var a;return(a=r==null?void 0:r.payload)==null?void 0:a.cart},rawCartResult:(n,r)=>{var a;return(a=r==null?void 0:r.payload)==null?void 0:a.rawCartResult},errors:n=>{}})]},ERROR:{target:(t==null?void 0:t.errorTarget)||"error",actions:[ne({prevCart:n=>n==null?void 0:n.lastValidCart,cart:n=>n==null?void 0:n.lastValidCart,errors:(n,r)=>{var a;return(a=r==null?void 0:r.payload)==null?void 0:a.errors}})]},CART_COMPLETED:{target:"cartCompleted",actions:ne({prevCart:n=>{},cart:n=>{},lastValidCart:n=>{},rawCartResult:n=>{},errors:n=>{}})}},exit:["onCartActionComplete",...(t==null?void 0:t.exitActions)||[]]}}const le={CART_FETCH:{target:"cartFetching"},CART_CREATE:{target:"cartCreating"},CART_SET:{target:"idle",actions:[ne({rawCartResult:(e,t)=>t.payload.cart,cart:(e,t)=>Le(t.payload.cart)})]}},mt={CARTLINE_ADD:{target:"cartLineAdding"},CARTLINE_UPDATE:{target:"cartLineUpdating"},CARTLINE_REMOVE:{target:"cartLineRemoving"},NOTE_UPDATE:{target:"noteUpdating"},BUYER_IDENTITY_UPDATE:{target:"buyerIdentityUpdating"},CART_ATTRIBUTES_UPDATE:{target:"cartAttributesUpdating"},DISCOUNT_CODES_UPDATE:{target:"discountCodesUpdating"}};function zn(e){return nt({id:"Cart",initial:e?"idle":"uninitialized",context:{cart:e&&Le(e)},states:{uninitialized:{on:le},cartCompleted:{on:le},initializationError:{on:le},idle:{on:{...le,...mt}},error:{on:{...le,...mt}},cartFetching:Y("cartFetchAction",{errorTarget:"initializationError"}),cartCreating:Y("cartCreateAction",{errorTarget:"initializationError"}),cartLineRemoving:Y("cartLineRemoveAction"),cartLineUpdating:Y("cartLineUpdateAction"),cartLineAdding:Y("cartLineAddAction"),noteUpdating:Y("noteUpdateAction"),buyerIdentityUpdating:Y("buyerIdentityUpdateAction"),cartAttributesUpdating:Y("cartAttributesUpdateAction"),discountCodesUpdating:Y("discountCodesUpdateAction")}})}function er({numCartLines:e,onCartActionEntry:t,onCartActionOptimisticUI:n,onCartActionComplete:r,data:a,cartFragment:i,countryCode:o,languageCode:s}){const{cartFetch:c,cartCreate:l,cartLineAdd:f,cartLineUpdate:y,cartLineRemove:g,noteUpdate:d,buyerIdentityUpdate:h,cartAttributesUpdate:_,discountCodesUpdate:T}=Xn({numCartLines:e,cartFragment:i,countryCode:o,languageCode:s}),b=u.useMemo(()=>zn(a),[a]),[I,A,v]=Vn(b,{actions:{cartFetchAction:async(m,p)=>{var w;if(p.type!=="CART_FETCH")return;const{data:S,errors:P}=await c((w=p==null?void 0:p.payload)==null?void 0:w.cartId),R=W(p,S==null?void 0:S.cart,P);A(R)},cartCreateAction:async(m,p)=>{var w;if(p.type!=="CART_CREATE")return;const{data:S,errors:P}=await l(p==null?void 0:p.payload),R=W(p,(w=S==null?void 0:S.cartCreate)==null?void 0:w.cart,P);A(R)},cartLineAddAction:async(m,p)=>{var w,O;if(p.type!=="CARTLINE_ADD"||!((w=m==null?void 0:m.cart)!=null&&w.id))return;const{data:S,errors:P}=await f(m.cart.id,p.payload.lines),R=W(p,(O=S==null?void 0:S.cartLinesAdd)==null?void 0:O.cart,P);A(R)},cartLineUpdateAction:async(m,p)=>{var w,O;if(p.type!=="CARTLINE_UPDATE"||!((w=m==null?void 0:m.cart)!=null&&w.id))return;const{data:S,errors:P}=await y(m.cart.id,p.payload.lines),R=W(p,(O=S==null?void 0:S.cartLinesUpdate)==null?void 0:O.cart,P);A(R)},cartLineRemoveAction:async(m,p)=>{var w,O;if(p.type!=="CARTLINE_REMOVE"||!((w=m==null?void 0:m.cart)!=null&&w.id))return;const{data:S,errors:P}=await g(m.cart.id,p.payload.lines),R=W(p,(O=S==null?void 0:S.cartLinesRemove)==null?void 0:O.cart,P);A(R)},noteUpdateAction:async(m,p)=>{var w,O;if(p.type!=="NOTE_UPDATE"||!((w=m==null?void 0:m.cart)!=null&&w.id))return;const{data:S,errors:P}=await d(m.cart.id,p.payload.note),R=W(p,(O=S==null?void 0:S.cartNoteUpdate)==null?void 0:O.cart,P);A(R)},buyerIdentityUpdateAction:async(m,p)=>{var w,O;if(p.type!=="BUYER_IDENTITY_UPDATE"||!((w=m==null?void 0:m.cart)!=null&&w.id))return;const{data:S,errors:P}=await h(m.cart.id,p.payload.buyerIdentity),R=W(p,(O=S==null?void 0:S.cartBuyerIdentityUpdate)==null?void 0:O.cart,P);A(R)},cartAttributesUpdateAction:async(m,p)=>{var w,O;if(p.type!=="CART_ATTRIBUTES_UPDATE"||!((w=m==null?void 0:m.cart)!=null&&w.id))return;const{data:S,errors:P}=await _(m.cart.id,p.payload.attributes),R=W(p,(O=S==null?void 0:S.cartAttributesUpdate)==null?void 0:O.cart,P);A(R)},discountCodesUpdateAction:async(m,p)=>{var w,O;if(p.type!=="DISCOUNT_CODES_UPDATE"||!((w=m==null?void 0:m.cart)!=null&&w.id))return;const{data:S,errors:P}=await T(m.cart.id,p.payload.discountCodes),R=W(p,(O=S==null?void 0:S.cartDiscountCodesUpdate)==null?void 0:O.cart,P);A(R)},...t&&{onCartActionEntry:(m,p)=>{tr(p)&&t(m,p)}},...n&&{onCartActionOptimisticUI:ne((m,p)=>n(m,p))},...r&&{onCartActionComplete:(m,p)=>{nr(p)&&r(m,p)}}}});return u.useMemo(()=>[I,A,v],[I,A,v])}function Le(e){return{...e,lines:J(e==null?void 0:e.lines),note:e.note??void 0}}function W(e,t,n){return n?{type:"ERROR",payload:{errors:n,cartActionEvent:e}}:t?{type:"RESOLVE",payload:{cart:Le(t),rawCartResult:t,cartActionEvent:e}}:{type:"CART_COMPLETED",payload:{cartActionEvent:e}}}function tr(e){return e.type==="CART_CREATE"||e.type==="CARTLINE_ADD"||e.type==="CARTLINE_UPDATE"||e.type==="CARTLINE_REMOVE"||e.type==="NOTE_UPDATE"||e.type==="BUYER_IDENTITY_UPDATE"||e.type==="CART_ATTRIBUTES_UPDATE"||e.type==="DISCOUNT_CODES_UPDATE"}function nr(e){return e.type==="RESOLVE"||e.type==="ERROR"||e.type==="CART_COMPLETED"}const pt=u.createContext(null);function ie(){const e=u.useContext(pt);if(!e)throw new Error("Expected a Cart Context, but no Cart Context was found");return e}function rr({children:e,numCartLines:t,onCreate:n,onLineAdd:r,onLineRemove:a,onLineUpdate:i,onNoteUpdate:o,onBuyerIdentityUpdate:s,onAttributesUpdate:c,onDiscountCodesUpdate:l,onCreateComplete:f,onLineAddComplete:y,onLineRemoveComplete:g,onLineUpdateComplete:d,onNoteUpdateComplete:h,onBuyerIdentityUpdateComplete:_,onAttributesUpdateComplete:T,onDiscountCodesUpdateComplete:b,data:I,cartFragment:A=Yn,customerAccessToken:v,countryCode:m,languageCode:p}){var zt,en,tn,nn,rn,an,on;const S=ue();if(!S)throw new Error("<CartProvider> needs to be a descendant of <ShopifyProvider>");m=(m??S.countryIsoCode??"US").toUpperCase(),p=(p??S.languageIsoCode??"EN").toUpperCase(),m&&(m=m.toUpperCase());const[P,R]=u.useState(m),[w,O]=u.useState(v),$=u.useRef(!1);(P!==m||w!==v)&&(R(m),O(v),$.current=!1);const[k,H]=er({numCartLines:t,data:I,cartFragment:A,countryCode:m,languageCode:p,onCartActionEntry(C,N){try{switch(N.type){case"CART_CREATE":return n==null?void 0:n();case"CARTLINE_ADD":return r==null?void 0:r();case"CARTLINE_REMOVE":return a==null?void 0:a();case"CARTLINE_UPDATE":return i==null?void 0:i();case"NOTE_UPDATE":return o==null?void 0:o();case"BUYER_IDENTITY_UPDATE":return s==null?void 0:s();case"CART_ATTRIBUTES_UPDATE":return c==null?void 0:c();case"DISCOUNT_CODES_UPDATE":return l==null?void 0:l()}}catch(F){console.error("Cart entry action failed",F)}},onCartActionOptimisticUI(C,N){var F,Q,M,Se;if(!C.cart)return{...C};switch(N.type){case"CARTLINE_REMOVE":return{...C,cart:{...C.cart,lines:(Q=(F=C==null?void 0:C.cart)==null?void 0:F.lines)==null?void 0:Q.filter(L=>(L==null?void 0:L.id)&&!N.payload.lines.includes(L==null?void 0:L.id))}};case"CARTLINE_UPDATE":return{...C,cart:{...C.cart,lines:(Se=(M=C==null?void 0:C.cart)==null?void 0:M.lines)==null?void 0:Se.map(L=>{const Ke=N.payload.lines.find(({id:Ia})=>Ia===(L==null?void 0:L.id));return Ke&&Ke.quantity?{...L,quantity:Ke.quantity}:L})}}}return{...C}},onCartActionComplete(C,N){const F=N.payload.cartActionEvent;try{switch(N.type){case"RESOLVE":switch(F.type){case"CART_CREATE":return f==null?void 0:f();case"CARTLINE_ADD":return y==null?void 0:y();case"CARTLINE_REMOVE":return g==null?void 0:g();case"CARTLINE_UPDATE":return d==null?void 0:d();case"NOTE_UPDATE":return h==null?void 0:h();case"BUYER_IDENTITY_UPDATE":return or(C,F)&&($.current=!0),_==null?void 0:_();case"CART_ATTRIBUTES_UPDATE":return T==null?void 0:T();case"DISCOUNT_CODES_UPDATE":return b==null?void 0:b()}}}catch(Q){console.error("onCartActionComplete failed",Q)}}}),X=u.useRef(!1),[pe,V]=u.useState(!1),ce=k.matches("cartCompleted"),Ee=(k.value==="idle"||k.value==="error"||k.value==="cartCompleted")&&m!==((tn=(en=(zt=k==null?void 0:k.context)==null?void 0:zt.cart)==null?void 0:en.buyerIdentity)==null?void 0:tn.countryCode)&&!k.context.errors,_e=u.useRef(!1);u.useEffect(()=>{if(!X.current&&!_e.current){if(!I&&xe("localStorage")){_e.current=!0;try{const C=window.localStorage.getItem(Ue);C&&H({type:"CART_FETCH",payload:{cartId:C}})}catch(C){console.warn("error fetching cartId"),console.warn(C)}}X.current=!0,V(!0)}},[I,X,H]),u.useEffect(()=>{!Ee||$.current||H({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:{countryCode:m,customerAccessToken:v}}})},[m,v,Ee,$,H]);const B=u.useCallback(C=>{if(!X.current)return console.warn("Cart isn't ready yet");H(C)},[H]);u.useEffect(()=>{var C,N,F;if((N=(C=k==null?void 0:k.context)==null?void 0:C.cart)!=null&&N.id&&xe("localStorage"))try{window.localStorage.setItem(Ue,(F=k.context.cart)==null?void 0:F.id)}catch(Q){console.warn("Failed to save cartId to localStorage",Q)}},[(rn=(nn=k==null?void 0:k.context)==null?void 0:nn.cart)==null?void 0:rn.id]),u.useEffect(()=>{if(ce&&xe("localStorage"))try{window.localStorage.removeItem(Ue)}catch(C){console.warn("Failed to delete cartId from localStorage",C)}},[ce]);const Ze=u.useCallback(C=>{var N,F;m&&!((N=C.buyerIdentity)!=null&&N.countryCode)&&(C.buyerIdentity==null&&(C.buyerIdentity={}),C.buyerIdentity.countryCode=m),v&&!((F=C.buyerIdentity)!=null&&F.customerAccessToken)&&(C.buyerIdentity==null&&(C.buyerIdentity={}),C.buyerIdentity.customerAccessToken=v),B({type:"CART_CREATE",payload:C})},[m,v,B]),D=ir(k),ba=u.useMemo(()=>{var C,N,F,Q;return{...((C=D==null?void 0:D.context)==null?void 0:C.cart)??{lines:[],attributes:[]},status:ar(D.value),error:(N=D==null?void 0:D.context)==null?void 0:N.errors,totalQuantity:((Q=(F=D==null?void 0:D.context)==null?void 0:F.cart)==null?void 0:Q.totalQuantity)??0,cartCreate:Ze,cartReady:pe,linesAdd(M){var Se,L;(L=(Se=D==null?void 0:D.context)==null?void 0:Se.cart)!=null&&L.id?B({type:"CARTLINE_ADD",payload:{lines:M}}):Ze({lines:M})},linesRemove(M){B({type:"CARTLINE_REMOVE",payload:{lines:M}})},linesUpdate(M){B({type:"CARTLINE_UPDATE",payload:{lines:M}})},noteUpdate(M){B({type:"NOTE_UPDATE",payload:{note:M}})},buyerIdentityUpdate(M){B({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:M}})},cartAttributesUpdate(M){B({type:"CART_ATTRIBUTES_UPDATE",payload:{attributes:M}})},discountCodesUpdate(M){B({type:"DISCOUNT_CODES_UPDATE",payload:{discountCodes:M}})},cartFragment:A}},[Ze,pe,(an=D==null?void 0:D.context)==null?void 0:an.cart,(on=D==null?void 0:D.context)==null?void 0:on.errors,D.value,A,B]);return React.createElement(pt.Provider,{value:ba},e)}function ar(e){switch(e){case"uninitialized":case"initializationError":return"uninitialized";case"idle":case"cartCompleted":case"error":return"idle";case"cartFetching":return"fetching";case"cartCreating":return"creating";case"cartLineAdding":case"cartLineRemoving":case"cartLineUpdating":case"noteUpdating":case"buyerIdentityUpdating":case"cartAttributesUpdating":case"discountCodesUpdating":return"updating"}}function ir(e){const[t,n]=u.useTransition(),[r,a]=u.useState(e),i=u.useRef(!1);t&&(i.current=!0);const o=u.useRef(!1);return!t&&i.current&&(o.current=!0),u.useEffect(()=>{n(()=>{o.current||a(e)})},[e]),o.current?e:r}function xe(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return!!(n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0)}}function or(e,t){var n,r;return!!(t.payload.buyerIdentity.countryCode&&((r=(n=e.cart)==null?void 0:n.buyerIdentity)==null?void 0:r.countryCode)!==t.payload.buyerIdentity.countryCode)}const Et=u.createContext(null);function sr({children:e,data:t,initialVariantId:n}){const r=u.useMemo(()=>J(t.variants??{}),[t.variants]);if(!ur(r))throw new Error("<ProductProvider/> requires 'product.variants.nodes' or 'product.variants.edges'");const a=u.useMemo(()=>cr(r),[r]),[i,o]=u.useState(()=>Tt(n,r)),[s,c]=u.useState(()=>Ct(i));u.useEffect(()=>{const T=Tt(n,r);o(T),c(Ct(T))},[n,r]);const l=u.useCallback((T,b)=>{c(I=>{const A={...I,[T]:b};return o(St(r,A)),A})},[c,r]),f=u.useCallback((T,b)=>{const I=St(r,{...s,[T]:b});return(I==null?void 0:I.availableForSale)??!0},[s,r]),y=u.useMemo(()=>J(t.sellingPlanGroups??{}).map(T=>({...T,sellingPlans:J((T==null?void 0:T.sellingPlans)??{})})),[t.sellingPlanGroups]),[g,d]=u.useState(void 0),h=u.useMemo(()=>{var T,b;if(!(!i||!g)){if(!((T=i.sellingPlanAllocations)!=null&&T.nodes)&&!((b=i.sellingPlanAllocations)!=null&&b.edges))throw new Error("<ProductProvider/>: You must include 'sellingPlanAllocations.nodes' or 'sellingPlanAllocations.edges' in your variants in order to calculate selectedSellingPlanAllocation");return J(i.sellingPlanAllocations).find(I=>{var A;return((A=I==null?void 0:I.sellingPlan)==null?void 0:A.id)===g.id})}},[i,g]),_=u.useMemo(()=>({product:t,variants:r,variantsConnection:t.variants,options:a,selectedVariant:i,setSelectedVariant:o,selectedOptions:s,setSelectedOption:l,setSelectedOptions:c,isOptionInStock:f,selectedSellingPlan:g,setSelectedSellingPlan:d,selectedSellingPlanAllocation:h,sellingPlanGroups:y,sellingPlanGroupsConnection:t.sellingPlanGroups}),[t,f,a,s,g,h,i,y,l,r]);return React.createElement(Et.Provider,{value:_},e)}function _t(){const e=u.useContext(Et);if(!e)throw new Error("'useProduct' must be a child of <ProductProvider />");return e}function St(e,t){var n,r;if(!(!e.length||((r=(n=e==null?void 0:e[0])==null?void 0:n.selectedOptions)==null?void 0:r.length)!==Object.keys(t).length))return e==null?void 0:e.find(a=>Object.entries(t).every(([i,o])=>{var s;return(s=a==null?void 0:a.selectedOptions)==null?void 0:s.some(c=>(c==null?void 0:c.name)===i&&(c==null?void 0:c.value)===o)}))}function cr(e){const t=e.reduce((n,r)=>{var a;if(!r.selectedOptions)throw new Error("'getOptions' requires 'variant.selectedOptions'");return(a=r==null?void 0:r.selectedOptions)==null||a.forEach(i=>{n[(i==null?void 0:i.name)??""]=n[(i==null?void 0:i.name)??""]||new Set,n[(i==null?void 0:i.name)??""].add((i==null?void 0:i.value)??"")}),n},{});return Object.keys(t).map(n=>({name:n,values:Array.from(t[n])}))}function Tt(e,t){if(e){const n=t.find(r=>(r==null?void 0:r.id)===e);return n||console.warn("<ProductProvider/> received a 'initialVariantId' prop, but could not actually find a variant with that ID"),n}if(e===null)return null;if(e===void 0)return t.find(n=>n==null?void 0:n.availableForSale)||t[0]}function Ct(e){return e!=null&&e.selectedOptions?e.selectedOptions.reduce((t,n)=>(t[(n==null?void 0:n.name)??""]=(n==null?void 0:n.value)??"",t),{}):{}}function ur(e){return!(!e||!Array.isArray(e))}function be(e){const{as:t,onClick:n,defaultOnClick:r,children:a,buttonRef:i,...o}=e,s=u.useCallback(l=>{if(n){const f=n(l);if(typeof f=="boolean"&&f===!1||l!=null&&l.defaultPrevented)return}r==null||r(l)},[r,n]),c=t||"button";return React.createElement(c,{ref:i,onClick:s,...o},a)}function lr(e){const[t,n]=u.useState(!1),{variantId:r,quantity:a=1,attributes:i,sellingPlanId:o,onClick:s,children:c,accessibleAddingToCartLabel:l,...f}=e,{status:y,linesAdd:g}=ie(),{selectedVariant:d}=_t(),h=r??(d==null?void 0:d.id)??"",_=r===null||h===""||d===null||t||f.disabled;u.useEffect(()=>{t&&y==="idle"&&n(!1)},[y,t]);const T=u.useCallback(()=>{n(!0),g([{quantity:a,merchandiseId:h||"",attributes:i,sellingPlanId:o}])},[g,a,h,i,o]);return U.createElement(U.Fragment,null,U.createElement(be,{...f,disabled:_,onClick:s,defaultOnClick:T},c),l?U.createElement("p",{style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},role:"alert","aria-live":"assertive"},t?l:null):null)}const te={PAGE_VIEW:"PAGE_VIEW",ADD_TO_CART:"ADD_TO_CART",PAGE_VIEW_2:"PAGE_VIEW_2",COLLECTION_VIEW:"COLLECTION_VIEW",PRODUCT_VIEW:"PRODUCT_VIEW",SEARCH_VIEW:"SEARCH_VIEW"},Ie={article:"article",blog:"blog",captcha:"captcha",cart:"cart",collection:"collection",customersAccount:"customers/account",customersActivateAccount:"customers/activate_account",customersAddresses:"customers/addresses",customersLogin:"customers/login",customersOrder:"customers/order",customersRegister:"customers/register",customersResetPassword:"customers/reset_password",giftCard:"gift_card",home:"index",listCollections:"list-collections",forbidden:"403",notFound:"404",page:"page",password:"password",product:"product",policy:"policy",search:"search"},wt={hydrogen:"hydrogen",headless:"headless"},At={hydrogen:"6167201",headless:"12875497473"};function j(e,t){return{schema_id:e,payload:t,metadata:{event_created_at_ms:Date.now()}}}function x(e){const t={id:"",resource:null,resourceId:null,search:"",searchParams:new URLSearchParams,hash:""};if(typeof e!="string")return t;try{const{search:n,searchParams:r,pathname:a,hash:i}=new URL(e),o=a.split("/"),s=o[o.length-1],c=o[o.length-2];return!s||!c?t:{id:`${s}${n}${i}`||"",resource:c??null,resourceId:s||null,search:n,searchParams:r,hash:i}}catch{return t}}function q(e,t){return typeof e!="object"?{}:(Object.entries(e).forEach(([n,r])=>{r&&(t[n]=r)}),t)}function dr(e){return typeof document>"u"?(console.error(`${e} should only be used within the useEffect callback or event handlers`),!0):!1}const bt="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function ve(){let e="";try{const t=window.crypto,n=new Uint16Array(31);t.getRandomValues(n);let r=0;e=bt.replace(/[x]/g,a=>{const i=n[r]%16,o=a==="x"?i:i&3|8;return r++,o.toString(16)}).toUpperCase()}catch{e=bt.replace(/[x]/g,n=>{const r=Math.random()*16|0;return(n==="x"?r:r&3|8).toString(16)}).toUpperCase()}return`${fr()}-${e}`}function fr(){let e=0,t=0;e=new Date().getTime()>>>0;try{t=performance.now()>>>0}catch{t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}function hr(e){const t=ee(e);return{[we]:t.uniqueToken,[Ae]:t.visitToken}}const yr="trekkie_storefront_page_view/1.4",gr="myshopify.dev";function It(e){const t=e,{id:n,resource:r}=x(t.resourceId),a=r?r.toLowerCase():void 0;return[j(yr,q({pageType:t.pageType,customerId:parseInt(x(t.customerId).id||"0"),resourceType:a,resourceId:parseInt(n)},mr(t)))]}function mr(e){return{appClientId:e.shopifySalesChannel?At[e.shopifySalesChannel]:At.headless,isMerchantRequest:pr(e.url),hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",isPersistentCookie:e.hasUserConsent,uniqToken:e.uniqueToken,visitToken:e.visitToken,microSessionId:ve(),microSessionCount:1,url:e.url,path:e.path,search:e.search,referrer:e.referrer,title:e.title,shopId:parseInt(x(e.shopId).id),currency:e.currency,contentLanguage:e.acceptedLanguage||"en"}}function pr(e){if(typeof e!="string")return!1;const t=new URL(e).hostname;return t.indexOf(gr)!==-1||t==="localhost"}const Er="2024.10.2",G="custom_storefront_customer_tracking/1.2",vt="page_rendered",Pt="collection_page_rendered",Ot="product_page_rendered",_r="product_added_to_cart",Rt="search_submitted";function de(e){return{canonical_url:e.canonicalUrl||e.url,customer_id:parseInt(x(e.customerId).id||"0")}}function Sr(e){const t=e,n=de(t),r=t.pageType,a=[];switch(a.push(j(G,q({event_name:vt,...n},Z(t)))),r){case Ie.collection:a.push(j(G,q({event_name:Pt,...n,collection_name:t.collectionHandle,collection_id:parseInt(x(t.collectionId).id)},Z(t))));break;case Ie.product:a.push(j(G,q({event_name:Ot,...n,products:qe(t.products),total_value:t.totalValue},Z(t))));break;case Ie.search:a.push(j(G,q({event_name:Rt,...n,search_string:t.searchString},Z(t))));break}return a}function Tr(e){const t=e,n=de(t);return[j(G,q({event_name:vt,...n},Z(t)))]}function Cr(e){const t=e,n=de(t);return[j(G,q({event_name:Pt,...n,collection_name:t.collectionHandle,collection_id:parseInt(x(t.collectionId).id)},Z(t)))]}function wr(e){const t=e,n=de(t);return[j(G,q({event_name:Ot,...n,products:qe(t.products),total_value:t.totalValue},Z(t)))]}function Ar(e){const t=e,n=de(t);return[j(G,q({event_name:Rt,...n,search_string:t.searchString},Z(t)))]}function br(e){const t=e,n=x(t.cartId),r=n!=null&&n.id?`${n.id}`:null;return[j(G,q({event_name:_r,customerId:t.customerId,cart_token:r,total_value:t.totalValue,products:qe(t.products),customer_id:parseInt(x(t.customerId).id||"0")},Z(t)))]}function Z(e){return{source:e.shopifySalesChannel||wt.headless,asset_version_id:e.assetVersionId||Er,hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",is_persistent_cookie:e.hasUserConsent,deprecated_visit_token:e.visitToken,unique_token:e.uniqueToken,event_time:Date.now(),event_id:ve(),event_source_url:e.url,referrer:e.referrer,user_agent:e.userAgent,navigation_type:e.navigationType,navigation_api:e.navigationApi,shop_id:parseInt(x(e.shopId).id),currency:e.currency,ccpa_enforced:e.ccpaEnforced||!1,gdpr_enforced:e.gdprEnforced||!1,gdpr_enforced_as_string:e.gdprEnforced?"true":"false",analytics_allowed:e.analyticsAllowed||!1,marketing_allowed:e.marketingAllowed||!1,sale_of_data_allowed:e.saleOfDataAllowed||!1}}function qe(e){return e?e.map(t=>{const n=q({variant_gid:t.variantGid,category:t.category,sku:t.sku,product_id:parseInt(x(t.productGid).id),variant_id:parseInt(x(t.variantGid).id)},{product_gid:t.productGid,name:t.name,variant:t.variantName||"",brand:t.brand,price:parseFloat(t.price),quantity:Number(t.quantity||0)});return JSON.stringify(n)}):[]}function Ir(e,t){const{eventName:n,payload:r}=e;if(!r.hasUserConsent)return Promise.resolve();let a=[];const i=r;return n===te.PAGE_VIEW?a=a.concat(It(i),Sr(i)):n===te.ADD_TO_CART?a=a.concat(br(r)):n===te.PAGE_VIEW_2?a=a.concat(It(i),Tr(i)):n===te.COLLECTION_VIEW?a=a.concat(Cr(i)):n===te.PRODUCT_VIEW?a=a.concat(wr(i)):n===te.SEARCH_VIEW&&(a=a.concat(Ar(i))),a.length?Pr(a,t):Promise.resolve()}function vr(){return typeof window>"u"||!window.navigator?!1:/Chrome-Lighthouse/.test(window.navigator.userAgent)}const kt="sendShopifyAnalytics request is unsuccessful";function Pr(e,t){if(vr())return Promise.resolve();const n={events:e,metadata:{event_sent_at_ms:Date.now()}};try{return fetch(t?`https://${t}/.well-known/shopify/monorail/unstable/produce_batch`:"https://monorail-edge.shopifysvc.com/unstable/produce_batch",{method:"post",headers:{"content-type":"text/plain"},body:JSON.stringify(n)}).then(r=>{if(!r.ok)throw new Error("Response failed");return r.text()}).then(r=>{r&&JSON.parse(r).result.forEach(i=>{i.status!==200&&console.error(kt,`

`,i.message)})}).catch(r=>{console.error(kt,r)})}catch{return Promise.resolve()}}function Or(){if(dr("getClientBrowserParameters"))return{uniqueToken:"",visitToken:"",url:"",path:"",search:"",referrer:"",title:"",userAgent:"",navigationType:"",navigationApi:""};const[e,t]=Dr(),n=ee();return{uniqueToken:n.uniqueToken,visitToken:n.visitToken,url:location.href,path:location.pathname,search:location.search,referrer:document.referrer,title:document.title,userAgent:navigator.userAgent,navigationType:e,navigationApi:t}}function Rr(){try{const e=(performance==null?void 0:performance.getEntriesByType)&&(performance==null?void 0:performance.getEntriesByType("navigation"));if(e&&e[0]){const t=window.performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch{}}function kr(){var e,t;try{if(PerformanceNavigation&&((e=performance==null?void 0:performance.navigation)==null?void 0:e.type)!==null&&((t=performance==null?void 0:performance.navigation)==null?void 0:t.type)!==void 0){const n=performance.navigation.type;switch(n){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return`unknown: ${n}`}}}catch{}}function Dr(){try{let e="PerformanceNavigationTiming",t=Rr();return t||(t=kr(),e="performance.navigation"),t?[t,e]:["unknown","unknown"]}catch{}return["error","error"]}function Vr(e){const{cartCreate:t,checkoutUrl:n}=ie(),[r,a]=u.useState(!1),{quantity:i,variantId:o,sellingPlanId:s,onClick:c,attributes:l,children:f,...y}=e;u.useEffect(()=>{r&&n&&(window.location.href=n)},[r,n]);const g=u.useCallback(()=>{a(!0),t({lines:[{quantity:i??1,merchandiseId:o,attributes:l,sellingPlanId:s}]})},[t,i,o,l,s]);return React.createElement(be,{disabled:r??y.disabled,...y,onClick:c,defaultOnClick:g},f)}function Ur(e){const[t,n]=u.useState(!1),{status:r,checkoutUrl:a}=ie(),{children:i,...o}=e;return u.useEffect(()=>{t&&a&&r==="idle"&&(window.location.href=a)},[t,r,a]),React.createElement(be,{...o,disabled:t||o.disabled,onClick:()=>n(!0)},i)}function Dt(e){const{countryIsoCode:t,languageIsoCode:n}=ue(),r=n.includes("_")?n.replace("_","-"):`${n}-${t}`;if(!r)throw new Error("useMoney(): Unable to get 'locale' from 'useShop()', which means that 'locale' was not passed to '<ShopifyProvider/>'. 'locale' is required for 'useMoney()' to work");const a=parseFloat(e.amount),{defaultFormatter:i,nameFormatter:o,narrowSymbolFormatter:s,withoutTrailingZerosFormatter:c,withoutCurrencyFormatter:l,withoutTrailingZerosOrCurrencyFormatter:f}=u.useMemo(()=>{const d={style:"currency",currency:e.currencyCode};return{defaultFormatter:oe(r,d),nameFormatter:oe(r,{...d,currencyDisplay:"name"}),narrowSymbolFormatter:oe(r,{...d,currencyDisplay:"narrowSymbol"}),withoutTrailingZerosFormatter:oe(r,{...d,minimumFractionDigits:0,maximumFractionDigits:0}),withoutCurrencyFormatter:oe(r),withoutTrailingZerosOrCurrencyFormatter:oe(r,{minimumFractionDigits:0,maximumFractionDigits:0})}},[e.currencyCode,r]),y=d=>d.type==="currency",g=u.useMemo(()=>({original:()=>e,currencyCode:()=>e.currencyCode,localizedString:()=>i().format(a),parts:()=>i().formatToParts(a),withoutTrailingZeros:()=>a%1===0?c().format(a):i().format(a),withoutTrailingZerosAndCurrency:()=>a%1===0?f().format(a):l().format(a),currencyName:()=>{var d;return((d=o().formatToParts(a).find(y))==null?void 0:d.value)??e.currencyCode},currencySymbol:()=>{var d;return((d=i().formatToParts(a).find(y))==null?void 0:d.value)??e.currencyCode},currencyNarrowSymbol:()=>{var d;return((d=s().formatToParts(a).find(y))==null?void 0:d.value)??""},amount:()=>i().formatToParts(a).filter(d=>["decimal","fraction","group","integer","literal"].includes(d.type)).map(d=>d.value).join("")}),[e,a,o,i,s,l,c,f]);return u.useMemo(()=>new Proxy(g,{get:(d,h)=>{var _;return(_=Reflect.get(d,h))==null?void 0:_.call(null)}}),[g])}const Vt=new Map;function oe(e,t){const n=JSON.stringify([e,t]);return function(){let r=Vt.get(n);return r||(r=new Intl.NumberFormat(e,t),Vt.set(n,r)),r}}function Pe({data:e,as:t,withoutCurrency:n,withoutTrailingZeros:r,measurement:a,measurementSeparator:i="/",...o}){if(!Nr(e))throw new Error("<Money/> needs a valid 'data' prop that has 'amount' and 'currencyCode'");const s=Dt(e),c=t??"div";let l=s.localizedString;return(n||r)&&(n&&!r?l=s.amount:!n&&r?l=s.withoutTrailingZeros:l=s.withoutTrailingZerosAndCurrency),React.createElement(c,{...o},l,a&&a.referenceUnit&&React.createElement(React.Fragment,null,i,a.referenceUnit))}function Nr(e){return typeof e.amount=="string"&&!!e.amount&&typeof e.currencyCode=="string"&&!!e.currencyCode}function Mr(e){const{cost:t}=ie(),{amountType:n="total",children:r,...a}=e;let i;return n=="total"?i=t==null?void 0:t.totalAmount:n=="subtotal"?i=t==null?void 0:t.subtotalAmount:n=="tax"?i=t==null?void 0:t.totalTaxAmount:n=="duty"&&(i=t==null?void 0:t.totalDutyAmount),i==null?null:React.createElement(Pe,{...a,data:i},r)}const Ut=u.createContext(null);function je(){const e=u.useContext(Ut);if(e==null)throw new Error("Expected a cart line context but none was found");return e}function Fr({children:e,line:t}){return React.createElement(Ut.Provider,{value:t},e)}function Lr(e){const t=je(),{as:n,...r}=e,a=n||"span";return React.createElement(a,{...r},t.quantity)}function xr(e){const{status:t,linesRemove:n,linesUpdate:r}=ie(),a=je(),{children:i,adjust:o,onClick:s,...c}=e,l=u.useCallback(()=>{if(o==="remove"){n([(a==null?void 0:a.id)??""]);return}const y=o==="decrease"?((a==null?void 0:a.quantity)??0)-1:((a==null?void 0:a.quantity)??0)+1;if(y<=0){n([(a==null?void 0:a.id)??""]);return}const g={id:(a==null?void 0:a.id)??"",quantity:y,attributes:(a==null?void 0:a.attributes)??[]};r([g])},[o,a==null?void 0:a.attributes,a==null?void 0:a.id,a==null?void 0:a.quantity,n,r]),f=c.disabled;return React.createElement(be,{...c,onClick:s,defaultOnClick:l,disabled:typeof f<"u"?f:t!=="idle"},i)}const qr={DateTime:"string",Decimal:"string",HTML:"string",URL:"string",Color:"string",UnsignedInt64:"string"},jr={DateTime:"string",Decimal:"string",HTML:"string",ISO8601DateTime:"string",URL:"string",UnsignedInt64:"string"},Nt=u.forwardRef((e,t)=>{const{data:n,options:r,id:a=n.id,frameBorder:i="0",allow:o="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:s=!0,loading:c="lazy",...l}=e;if(!n.embedUrl)throw new Error("<ExternalVideo/> requires the 'embedUrl' property");let f=n.embedUrl;if(r){const y=new URL(n.embedUrl);for(const[g,d]of Object.entries(r))typeof d>"u"||y.searchParams.set(g,d.toString());f=y.toString()}return React.createElement("iframe",{...l,id:a??n.embedUrl,title:n.alt??n.id??"external video",frameBorder:i,allow:o,allowFullScreen:s,src:f,loading:c,ref:t})}),$e=",",se={OPTION:":",END_OF_PREFIX:",",SEQUENCE_GAP:" ",RANGE:"-"},He=(()=>{const e=new Map;return function(t,n){var r;if(t.length===0)return!1;if(!e.has(n)){const a=new Set;for(const i of Mt(n)){a.add(i.join($e));for(let o=0;o<i.length;o++)a.add(i.slice(0,o+1).join($e))}e.set(n,a)}return!!((r=e.get(n))!=null&&r.has(t.join($e)))}})();function Mt(e){if(!e)return[];if(e.startsWith("v1_"))return Hr($r(e));throw new Error("Unsupported option value encoding")}const $r=e=>e.replace(/^v1_/,"");function Hr(e){const t=/[ :,-]/g;let n=0,r;const a=[],i=[];let o=0,s=null;for(;r=t.exec(e);){const l=r[0],f=Number.parseInt(e.slice(n,r.index))||0;if(s!==null){for(;s<f;s++)i[o]=s,a.push([...i]);s=null}i[o]=f,l===se.RANGE?s=f:l===se.OPTION?o++:((l===se.SEQUENCE_GAP||l===se.END_OF_PREFIX&&e[r.index-1]!==se.END_OF_PREFIX)&&a.push([...i]),l===se.END_OF_PREFIX&&(i.pop(),o--)),n=t.lastIndex}const c=e.lastIndexOf("-");if(s!=null&&c>0){const l=parseInt(e.substring(c+1));for(;s<=l;s++)i[o]=s,a.push([...i])}return a}function Br(e){return e.map(t=>Object.assign({},...t!=null&&t.optionValues?t.optionValues.map((n,r)=>({[n.name]:r})):[]))}function fe(e){return Object.assign({},...e.map(t=>({[t.name]:t.value})))}function Be(e){return JSON.stringify(fe(e))}function Ft(e,t){return Array.isArray(e)?JSON.stringify(e.map((n,r)=>t[r][n.value])):JSON.stringify(Object.keys(e).map((n,r)=>t[r][e[n]]))}function Yr(e,t){return Object.assign({},...e.map(n=>({[Ft(n.selectedOptions||[],t)]:n})))}const Lt=["options","selectedOrFirstAvailableVariant","adjacentVariants"],Wr=["handle","encodedVariantExistence","encodedVariantAvailability"];function K(e){return console.error(`[h2:error:getProductOptions] product.${e} is missing. Make sure you query for this field from the Storefront API.`),!1}function xt(e,t=!1){var a;let n=!0;const r=Object.keys(e);if((t?[...Lt,...Wr]:Lt).forEach(i=>{r.includes(i)||(n=K(i))}),e.options){const i=e==null?void 0:e.options[0];if(t&&!(i!=null&&i.name)&&(n=K("options.name")),(a=e==null?void 0:e.options[0])!=null&&a.optionValues){const o=e.options[0].optionValues[0];t&&!(o!=null&&o.name)&&(n=K("options.optionValues.name")),o!=null&&o.firstSelectableVariant?n=Ye(o.firstSelectableVariant,"options.optionValues.firstSelectableVariant",n,t):n=K("options.optionValues.firstSelectableVariant")}else n=K("options.optionValues")}return e.selectedOrFirstAvailableVariant&&(n=Ye(e.selectedOrFirstAvailableVariant,"selectedOrFirstAvailableVariant",n,t)),e.adjacentVariants&&e.adjacentVariants[0]&&(n=Ye(e.adjacentVariants[0],"adjacentVariants",n,t)),n?e:{}}function Ye(e,t,n,r){var i;let a=n;if(r&&!((i=e.product)!=null&&i.handle)&&(a=K(`${t}.product.handle`)),e.selectedOptions){const o=e.selectedOptions[0];o!=null&&o.name||(a=K(`${t}.selectedOptions.name`)),o!=null&&o.value||(a=K(`${t}.selectedOptions.value`))}else a=K(`${t}.selectedOptions`);return a}function Gr(e){const t=xt(e);if(!t.options)return[];const n={};t.options.map(a=>{var i;(i=a.optionValues)==null||i.map(o=>{if(o.firstSelectableVariant){const s=Be(o.firstSelectableVariant.selectedOptions);n[s]=o.firstSelectableVariant}})}),t.adjacentVariants.map(a=>{const i=Be(a.selectedOptions);n[i]=a});const r=t.selectedOrFirstAvailableVariant;if(r){const a=Be(r.selectedOptions);n[a]=r}return Object.values(n)}function Zr(e){const t=xt(e,!0);if(!t.options)return[];const{options:n,selectedOrFirstAvailableVariant:r,adjacentVariants:a,encodedVariantExistence:i,encodedVariantAvailability:o,handle:s}=t,c=Br(n),l=Yr(r?[r,...a]:a,c),f=fe(r?r.selectedOptions:[]);return n.map((g,d)=>({...g,optionValues:g.optionValues.map(h=>{var P;const _={...f};_[g.name]=h.name;const T=Ft(_||[],c),b=JSON.parse(T).slice(0,d+1),I=He(b,i||""),A=He(b,o||""),v=l[T]||h.firstSelectableVariant,m=fe(v.selectedOptions||[]),p=new URLSearchParams(m),S=(P=v==null?void 0:v.product)==null?void 0:P.handle;return{...h,variant:v,handle:S,variantUriQuery:p.toString(),selected:f[g.name]===h.name,exists:I,available:A,isDifferentProduct:S!==s}})}))}const Kr=`#graphql
  fragment Image on Image {
    altText
    url
    width
    height
  }
`,qt=U.forwardRef(({alt:e,aspectRatio:t,crop:n="center",data:r,decoding:a="async",height:i="auto",loader:o=he,loading:s="lazy",sizes:c,src:l,srcSetOptions:f={intervals:15,startingWidth:200,incrementSize:200,placeholderWidth:100},width:y="100%",...g},d)=>{const h=U.useMemo(()=>{const p=r!=null&&r.width&&(r!=null&&r.height)?r==null?void 0:r.width:void 0,S=r!=null&&r.width&&(r!=null&&r.height)?r==null?void 0:r.height:void 0;return{width:p,height:S,unitsMatch:!!$t(p,S)}},[r]),_=U.useMemo(()=>{const S=ye((y||"100%").toString()),P=`${S.number}${S.unit}`,R=i==null,w=R?null:ye(i.toString()),O=w?`${w.number}${w.unit}`:"",$=R?"auto":O,k=l||(r==null?void 0:r.url),H=r!=null&&r.altText&&!e?r==null?void 0:r.altText:e||"",X=t||(h.unitsMatch?[ge(h.width),ge(h.height)].join("/"):void 0);return{width:P,height:$,src:k,alt:H,aspectRatio:X}},[y,i,l,r,e,t,h,g==null?void 0:g.key]),{intervals:T,startingWidth:b,incrementSize:I,placeholderWidth:A}=f,v=U.useMemo(()=>Xr(y,T,b,I),[y,T,b,I]);return Ht(_.width)?U.createElement(Qr,{aspectRatio:t,crop:n,decoding:a,height:i,imageWidths:v,loader:o,loading:s,normalizedProps:_,passthroughProps:g,ref:d,width:y,data:r}):U.createElement(Jr,{aspectRatio:t,crop:n,decoding:a,imageWidths:v,loader:o,loading:s,normalizedProps:_,passthroughProps:g,placeholderWidth:A,ref:d,sizes:c,data:r})}),Qr=U.forwardRef(({aspectRatio:e,crop:t,decoding:n,height:r,imageWidths:a,loader:i=he,loading:o,normalizedProps:s,passthroughProps:c,width:l,data:f},y)=>{const g=U.useMemo(()=>{const d=ge(l),h=ge(r),_=e||($t(s.width,s.height)?[d,h].join("/"):s.aspectRatio?s.aspectRatio:void 0),T=a===void 0?void 0:Yt(a,_,t,{width:(f==null?void 0:f.width)??void 0,height:(f==null?void 0:f.height)??void 0}),b=h||(_&&d?d*(We(_)??1):void 0),I=Bt(s.src,T,i),A=i({src:s.src,width:d,height:b,crop:s.height==="auto"?void 0:t});return{width:d,aspectRatio:_,height:b,srcSet:I,src:A}},[e,t,f,r,a,i,s,l]);return U.createElement("img",{ref:y,alt:s.alt,decoding:n,height:g.height,loading:o,src:g.src,srcSet:g.srcSet,width:g.width,style:{aspectRatio:g.aspectRatio,...c.style},...c})}),Jr=U.forwardRef(({crop:e,decoding:t,imageWidths:n,loader:r=he,loading:a,normalizedProps:i,passthroughProps:o,placeholderWidth:s,sizes:c,data:l},f)=>{const y=U.useMemo(()=>{const g=n===void 0?void 0:Yt(n,i.aspectRatio,e,{width:(l==null?void 0:l.width)??void 0,height:(l==null?void 0:l.height)??void 0}),d=i.aspectRatio&&s?s*(We(i.aspectRatio)??1):void 0,h=Bt(i.src,g,r),_=r({src:i.src,width:s,height:d,crop:e});return{placeholderHeight:d,srcSet:h,src:_}},[e,l,n,r,i,s]);return U.createElement("img",{ref:f,alt:i.alt,decoding:t,height:y.placeholderHeight,loading:a,sizes:c,src:y.src,srcSet:y.srcSet,width:s,...o,style:{width:i.width,aspectRatio:i.aspectRatio,...o.style}})}),jt="https://placeholder.shopify.com";function he({src:e,width:t,height:n,crop:r}){if(!e)return"";const a=new URL(e,jt);return t&&a.searchParams.append("width",Math.round(t).toString()),n&&a.searchParams.append("height",Math.round(n).toString()),r&&a.searchParams.append("crop",r),a.href.replace(jt,"")}function $t(e="100%",t="auto"){return ye(e.toString()).unit===ye(t.toString()).unit}function ye(e){const t=e.replace(/[0-9.]/g,""),n=parseFloat(e.replace(t,""));return{unit:t===""?n===void 0?"auto":"px":t,number:n}}function ge(e){if(e===void 0)return;const{unit:t,number:n}=ye(e.toString());switch(t){case"em":return n*16;case"rem":return n*16;case"px":return n;case"":return n;default:return}}function Ht(e){return typeof e=="number"||/\d(px|em|rem)$/.test(e)}function Bt(e,t,n=he){return e?(t==null?void 0:t.length)===0||!t?e:t.map((r,a)=>`${n({src:e,width:r.width,height:r.height,crop:r.crop})} ${t.length===3?`${a+1}x`:`${r.width??0}w`}`).join(", "):""}function Xr(e="100%",t,n,r){const a=Array.from({length:t},(o,s)=>s*r+n),i=Array.from({length:3},(o,s)=>(s+1)*(ge(e)??0));return Ht(e)?i:a}function We(e){if(!e)return;const[t,n]=e.split("/");return 1/(Number(t)/Number(n))}function Yt(e,t,n="center",r){if(e)return e.map(a=>({width:a,height:t?a*(We(t)??1):void 0,crop:n})).filter(({width:a,height:i})=>!(r!=null&&r.width&&a>r.width||r!=null&&r.height&&i&&i>r.height))}const Wt={};function zr(e,t){const n=Wt[e];if(n)return n;const r=new Promise((a,i)=>{const o=document.createElement("script");t!=null&&t.module?o.type="module":o.type="text/javascript",o.src=e,o.onload=()=>{a(!0)},o.onerror=()=>{i(!1)},(t==null?void 0:t.in)==="head"?document.head.appendChild(o):document.body.appendChild(o);const s=t==null?void 0:t.attributes;s&&Object.keys(s).forEach(c=>{o.setAttribute(c,s[c])})});return Wt[e]=r,r}function Ge(e,t){const[n,r]=u.useState("loading");return u.useEffect(()=>{zr(e,t).then(()=>r("done")).catch(()=>r("error"))},[e]),n}const Gt=u.forwardRef((e,t)=>{var f;const{data:n,previewImageOptions:r,id:a=n.id,playsInline:i=!0,controls:o=!0,sourceProps:s={},...c}=e,l=he({src:((f=n.previewImage)==null?void 0:f.url)??"",...r});if(!n.sources)throw new Error("<Video/> requires a 'data.sources' array");return React.createElement("video",{...c,id:a,playsInline:i,controls:o,poster:l,ref:t},n.sources.map(y=>{if(!(y!=null&&y.url&&(y!=null&&y.mimeType)))throw new Error("<Video/> needs 'source.url' and 'source.mimeType'");return React.createElement("source",{...s,key:y.url,src:y.url,type:y.mimeType})}))});function Zt(e){var l,f,y;const[t,n]=u.useState(void 0),r=u.useCallback(g=>{n(g)},[]),{data:a,children:i,className:o,...s}=e,c=Ge("https://unpkg.com/@google/model-viewer@v1.12.1/dist/model-viewer.min.js",{module:!0});return u.useEffect(()=>{const g={error:s.onError,load:s.onLoad,preload:s.onPreload,"model-visibility":s.onModelVisibility,progress:s.onProgress,"ar-status":s.onArStatus,"ar-tracking":s.onArTracking,"quick-look-button-tapped":s.onQuickLookButtonTapped,"camera-change":s.onCameraChange,"environment-change":s.onEnvironmentChange,play:s.onPlay,pause:s.onPause,"scene-graph-ready":s.onSceneGraphReady};if(t)return Object.entries(g).forEach(([d,h])=>{h&&t.addEventListener(d,h)}),()=>{t!=null&&Object.entries(g).forEach(([d,h])=>{h&&t.removeEventListener(d,h)})}},[t,s.onArStatus,s.onArTracking,s.onCameraChange,s.onEnvironmentChange,s.onError,s.onLoad,s.onModelVisibility,s.onPause,s.onPlay,s.onPreload,s.onProgress,s.onQuickLookButtonTapped,s.onSceneGraphReady]),c!=="done"?null:(f=(l=a.sources)==null?void 0:l[0])!=null&&f.url?React.createElement("model-viewer",{ref:r,...s,class:o,id:s.id??a.id,src:a.sources[0].url,alt:a.alt??null,"camera-controls":s.cameraControls??!0,poster:(s.poster||((y=a.previewImage)==null?void 0:y.url))??null,autoplay:s.autoplay??!0,loading:s.loading,reveal:s.reveal,ar:s.ar,"ar-modes":s.arModes,"ar-scale":s.arScale,"ar-placement":s.arPlacement,"ios-src":s.iosSrc,"touch-action":s.touchAction,"disable-zoom":s.disableZoom,"orbit-sensitivity":s.orbitSensitivity,"auto-rotate":s.autoRotate,"auto-rotate-delay":s.autoRotateDelay,"rotation-per-second":s.rotationPerSecond,"interaction-policy":s.interactionPolicy,"interaction-prompt":s.interactionPrompt,"interaction-prompt-style":s.interactionPromptStyle,"interaction-prompt-threshold":s.interactionPromptThreshold,"camera-orbit":s.cameraOrbit,"camera-target":s.cameraTarget,"field-of-view":s.fieldOfView,"max-camera-orbit":s.maxCameraOrbit,"min-camera-orbit":s.minCameraOrbit,"max-field-of-view":s.maxFieldOfView,"min-field-of-view":s.minFieldOfView,bounds:s.bounds,"interpolation-decay":s.interpolationDecay??100,"skybox-image":s.skyboxImage,"environment-image":s.environmentImage,exposure:s.exposure,"shadow-intensity":s.shadowIntensity??0,"shadow-softness":s.shadowSoftness??0,"animation-name":s.animationName,"animation-crossfade-duration":s.animationCrossfadeDuration,"variant-name":s.variantName,orientation:s.orientation,scale:s.scale},i):(console.error("<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it. Rendering 'null'"),null)}function ea({data:e,mediaOptions:t,...n}){switch(e.__typename){case"MediaImage":return e.image?React.createElement(qt,{...n,...t==null?void 0:t.image,data:e.image}):(console.warn("<MediaFile/>: 'data.image' does not exist for __typename of 'MediaImage'; rendering 'null' by default."),null);case"Video":return React.createElement(Gt,{...n,...t==null?void 0:t.video,data:e});case"ExternalVideo":return React.createElement(Nt,{...n,...t==null?void 0:t.externalVideo,data:e});case"Model3d":return React.createElement(Zt,{...n,...t==null?void 0:t.modelViewer,data:e});default:return console.error("<MediaFile /> requires the '__typename' property to exist on the 'data' prop in order to render the matching sub-component for this type of media.  Rendering 'null' by default"),null}}function ta(e){if(!e.type)return console.error("parseMetafield(): The 'type' field is required in order to parse the Metafield. Returning 'parsedValue' of 'null'"),{...e,parsedValue:null};switch(e.type){case"boolean":return{...e,parsedValue:e.value==="true"};case"collection_reference":case"file_reference":case"page_reference":case"product_reference":case"variant_reference":return{...e,parsedValue:e.reference};case"color":case"multi_line_text_field":case"single_line_text_field":case"url":return{...e,parsedValue:e.value};case"dimension":case"money":case"json":case"rating":case"volume":case"weight":case"rich_text_field":case"list.color":case"list.dimension":case"list.number_integer":case"list.number_decimal":case"list.rating":case"list.single_line_text_field":case"list.url":case"list.volume":case"list.weight":{let t=null;try{t=Kt(e.value??"")}catch{console.error("parseMetafield(): attempted to JSON.parse the 'metafield.value' property, but failed. Returning 'null' for 'parsedValue'"),t=null}return{...e,parsedValue:t}}case"date":case"date_time":return{...e,parsedValue:new Date(e.value??"")};case"list.date":case"list.date_time":{const t=Kt((e==null?void 0:e.value)??"");return{...e,parsedValue:t.map(n=>new Date(n))}}case"number_decimal":case"number_integer":return{...e,parsedValue:Number(e.value)};case"list.collection_reference":case"list.file_reference":case"list.page_reference":case"list.product_reference":case"list.variant_reference":return{...e,parsedValue:J(e.references??void 0)};default:{const t=`parseMetafield(): the 'metafield.type' you passed in is not supported. Your type: "${e.type}". If you believe this is an error, please open an issue on GitHub.`;return console.error(`${t}  Returning 'parsedValue' of 'null'`),{...e,parsedValue:null}}}}function Kt(e){return String(e).includes("__proto__")?JSON.parse(e,(t,n)=>{if(t!=="__proto__")return n}):JSON.parse(e)}function na(e){var f,y,g,d,h,_;const{priceType:t="regular",variantId:n,valueType:r="min",data:a,...i}=e;if(a==null)throw new Error("<ProductPrice/> requires a product as the 'data' prop");let o,s;const c=n?J((a==null?void 0:a.variants)??{}).find(T=>(T==null?void 0:T.id)===n)??null:null,l=r==="max"?"maxVariantPrice":"minVariantPrice";if(t==="compareAt"){n&&c?o=c.compareAtPrice:o=(f=a==null?void 0:a.compareAtPriceRange)==null?void 0:f[l];let T;n&&c?T=parseFloat(((y=c.price)==null?void 0:y.amount)??"0"):T=parseFloat(((d=(g=a==null?void 0:a.priceRange)==null?void 0:g[l])==null?void 0:d.amount)??"0");const b=parseFloat((o==null?void 0:o.amount)??"0");if(T>=b)return null}else n&&c?(o=c.price,r==="unit"&&(o=c.unitPrice,s=c.unitPriceMeasurement)):r==="max"?o=(h=a.priceRange)==null?void 0:h.maxVariantPrice:o=(_=a.priceRange)==null?void 0:_.minVariantPrice;return o?s?React.createElement(Pe,{...i,data:o,measurement:s}):React.createElement(Pe,{...i,data:o}):null}const ra={root:aa,heading:ia,paragraph:oa,text:sa,link:ca,list:ua,"list-item":la};function aa({node:e}){return React.createElement("div",null,e.children)}function ia({node:e}){return u.createElement(`h${e.level??"1"}`,null,e.children)}function oa({node:e}){return React.createElement("p",null,e.children)}function sa({node:e}){return e.bold&&e.italic?React.createElement("em",null,React.createElement("strong",null,e.value)):e.bold?React.createElement("strong",null,e.value):e.italic?React.createElement("em",null,e.value):e.value}function ca({node:e}){return React.createElement("a",{href:e.url,title:e.title,target:e.target},e.children)}function ua({node:e}){const t=e.listType==="unordered"?"ul":"ol";return React.createElement(t,null,e.children)}function la({node:e}){return React.createElement("li",null,e.children)}function da({as:e,data:t,plain:n,components:r,...a}){try{const i=e??"div",o=u.useMemo(()=>JSON.parse(t),[t]);return React.createElement(i,{...a},n?me(o):Qt(r,o))}catch(i){throw new Error("[h2:error:RichText] Parsing error. Make sure to pass a JSON string of rich text metafield",{cause:i})}}function Qt(e={},t,n=0){let r;"children"in t&&(r=t.children.map((i,o)=>Qt(e,i,o)));const a=e[t.type==="list-item"?"listItem":t.type]??ra[t.type];switch(t.type){case"root":return u.createElement(a,{key:n,node:{type:"root",children:r}});case"heading":return u.createElement(a,{key:n,node:{type:"heading",level:t.level,children:r}});case"paragraph":return u.createElement(a,{key:n,node:{type:"paragraph",children:r}});case"text":{const i=(t.value??"").split(`
`).flatMap((o,s)=>{const c=`${n}-${o}-${s}`,l=u.createElement(a,{key:c,node:{type:"text",italic:t.italic,bold:t.bold,value:o}});return s===0?l:[u.createElement("br",{key:`${c}-br`}),l]});return i.length>1?u.createElement(u.Fragment,{key:n},i):i[0]}case"link":return u.createElement(a,{key:n,node:{type:"link",url:t.url,title:t.title,target:t.target,children:r}});case"list":return u.createElement(a,{key:n,node:{type:"list",listType:t.listType,children:r}});case"list-item":return u.createElement(a,{key:n,node:{type:"list-item",children:r}})}}function me(e,t=[]){switch(e.type){case"root":e.children.forEach(n=>me(n,t));break;case"heading":case"paragraph":e.children.forEach(n=>me(n,t)),t.push(" ");break;case"text":t.push(e.value||"");break;case"link":e.children.forEach(n=>me(n,t));break;case"list":e.children.forEach(n=>{n.children&&n.children.forEach(r=>me(r,t)),t.push(" ")});break;default:throw new Error(`Unknown node encountered ${e.type}`)}return t.join("").trim()}const fa="https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js";function ha(e){return e==="headless"||e==="hydrogen"}function ya({channel:e,variantIds:t,className:n,variantIdsAndQuantities:r,width:a,storeDomain:i}){const o=ue(),s=i||(o==null?void 0:o.storeDomain),c=Ge(fa);let l=[],f;if(!s||s===lt.storeDomain)throw new Error(ga);if(t&&r)throw new Error(pa);if(!t&&!r)throw new Error(Jt);if(e)if(ha(e))f=e;else throw new Error(Ea);if(t)l=t.reduce((g,d)=>{const h=x(d).id;return h&&g.push(h),g},[]);else if(r)l=r.reduce((g,d)=>{const h=x(d==null?void 0:d.id).id;return h&&g.push(`${h}:${(d==null?void 0:d.quantity)??1}`),g},[]);else throw new Error(Jt);if(l.length===0)throw new Error(ma);const y=a?{"--shop-pay-button-width":a}:void 0;return React.createElement("div",{className:n,style:y},c==="done"&&React.createElement("shop-pay-button",{...f?{channel:f}:{},"store-url":s,variants:l.join(",")}))}const ga='You must pass a "storeDomain" prop to the "ShopPayButton" component, or wrap it in a "ShopifyProvider" component.',ma='You must pass in "variantIds" in the form of ["gid://shopify/ProductVariant/1"]',Jt='You must pass in either "variantIds" or "variantIdsAndQuantities" to ShopPayButton',pa="You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component",Ea='Invalid channel attribution value. Must be either "headless" or "hydrogen"';function _a(e){return u.useEffect(()=>{const t=new URLSearchParams(fe(e||[])),n=new URLSearchParams(window.location.search),r=new URLSearchParams({...Object.fromEntries(n),...Object.fromEntries(t)});r.size>0&&window.history.replaceState({},"",`${window.location.pathname}?${r.toString()}`)},[JSON.stringify(e)]),null}function Sa(e,t,n={}){let r=e+"="+encodeURIComponent(t);return n.expires&&(r+="; Expires="+new Date(n.expires).toUTCString()),n.maxage!=null&&n.maxage>=0&&(r+="; Max-Age="+(n.maxage|0)),n.domain&&(r+="; Domain="+n.domain),n.path&&(r+="; Path="+n.path),n.samesite&&(r+="; SameSite="+n.samesite),(n.secure||n.samesite==="None")&&(r+="; Secure"),n.httponly&&(r+="; HttpOnly"),r}const Ta=60*60*24*360*1,Ca=60*30;function wa(e){const{hasUserConsent:t,domain:n="",checkoutDomain:r="",storefrontAccessToken:a,fetchTrackingValues:i,ignoreDeprecatedCookies:o=!1}=e||{},s=Aa({storefrontAccessToken:a,fetchTrackingValues:i,checkoutDomain:r});return u.useEffect(()=>{if(o||!s)return;let c=n||window.location.host;if(r){const f=r.split(".").reverse(),y=c.split(".").reverse(),g=[];f.forEach((d,h)=>{d===y[h]&&g.push(d)}),c=g.reverse().join(".")}/^localhost/.test(c)&&(c="");const l=c?/^\./.test(c)?c:`.${c}`:"";if(t){const f=ee();if((f.uniqueToken||f.visitToken||"").startsWith("00000000-"))return;Oe(we,f.uniqueToken||ve(),Ta,l),Oe(Ae,f.visitToken||ve(),Ca,l)}else Oe(we,"",0,l),Oe(Ae,"",0,l)},[s,t,n,r,o]),s}function Oe(e,t,n,r){document.cookie=Sa(e,t,{maxage:n,domain:r,samesite:"Lax",path:"/"})}async function Xt(e,t=""){const{uniqueToken:n,visitToken:r}=ee(),a=await fetch(`${t.replace(/\/+$/,"")}/api/unstable/graphql.json`,{method:"POST",headers:{"Content-Type":"application/json",...e&&{"X-Shopify-Storefront-Access-Token":e},...r||n?{[Ne]:r,[Me]:n}:void 0},body:JSON.stringify({query:"query ensureCookies { consentManagement { cookies(visitorConsent:{}) { cookieDomain } } }"})});if(!a.ok)throw new Error(`Failed to fetch consent from browser: ${a.status} ${a.statusText}`);await a.json(),ee()}function Aa({checkoutDomain:e,storefrontAccessToken:t,fetchTrackingValues:n=!1}){const[r,a]=u.useState(!n),i=u.useRef(!1);return u.useEffect(()=>{if(!n){a(!0);return}i.current||(i.current=!0,Xt(t).catch(o=>e?Xt(t,e):Promise.reject(o)).catch(o=>{console.warn("[h2:warn:useShopifyCookies] Failed to fetch tracking values from browser: "+(o instanceof Error?o.message:String(o)))}).finally(()=>{a(!0)}))},[e,n,t]),r}E.AddToCartButton=lr,E.AnalyticsEventName=te,E.AnalyticsPageType=Ie,E.BuyNowButton=Vr,E.CartCheckoutButton=Ur,E.CartCost=Mr,E.CartLineProvider=Fr,E.CartLineQuantity=Lr,E.CartLineQuantityAdjustButton=xr,E.CartProvider=rr,E.ExternalVideo=Nt,E.IMAGE_FRAGMENT=Kr,E.Image=qt,E.MediaFile=ea,E.ModelViewer=Zt,E.Money=Pe,E.ProductPrice=na,E.ProductProvider=sr,E.RichText=da,E.SHOPIFY_S=Ae,E.SHOPIFY_STOREFRONT_ID_HEADER=ft,E.SHOPIFY_STOREFRONT_S_HEADER=yt,E.SHOPIFY_STOREFRONT_Y_HEADER=ht,E.SHOPIFY_UNIQUE_TOKEN_HEADER=Me,E.SHOPIFY_VISIT_TOKEN_HEADER=Ne,E.SHOPIFY_Y=we,E.ShopPayButton=ya,E.ShopifyProvider=Qn,E.ShopifySalesChannel=wt,E.Video=Gt,E.createStorefrontClient=Gn,E.customerAccountApiCustomScalars=jr,E.decodeEncodedVariant=Mt,E.flattenConnection=J,E.getAdjacentAndFirstAvailableVariants=Gr,E.getClientBrowserParameters=Or,E.getProductOptions=Zr,E.getShopifyCookies=hr,E.getTrackingValues=ee,E.isOptionValueCombinationInEncodedVariant=He,E.mapSelectedProductOptionToObject=fe,E.parseGid=x,E.parseMetafield=ta,E.sendShopifyAnalytics=Ir,E.storefrontApiCustomScalars=qr,E.useCart=ie,E.useCartLine=je,E.useLoadScript=Ge,E.useMoney=Dt,E.useProduct=_t,E.useSelectedOptionInUrlParam=_a,E.useShop=ue,E.useShopifyCookies=wa,Object.defineProperty(E,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=hydrogen-react.prod.js.map
