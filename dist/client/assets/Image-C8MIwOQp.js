import{a as d,p as w}from"./chunk-JZWAC4HX-l9NPZ7AV.js";const q="2025-07",B={storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:q,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}},J=d.createContext(B);function G(){const t=d.useContext(J);if(!t)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return t}function K(t){const{countryIsoCode:r,languageIsoCode:c}=G(),e=c.includes("_")?c.replace("_","-"):`${c}-${r}`;if(!e)throw new Error("useMoney(): Unable to get 'locale' from 'useShop()', which means that 'locale' was not passed to '<ShopifyProvider/>'. 'locale' is required for 'useMoney()' to work");const n=parseFloat(t.amount);let o=!0;try{new Intl.NumberFormat(e,{style:"currency",currency:t.currencyCode})}catch(i){i instanceof RangeError&&i.message.includes("currency")&&(o=!1)}const{defaultFormatter:a,nameFormatter:u,narrowSymbolFormatter:y,withoutTrailingZerosFormatter:s,withoutCurrencyFormatter:m,withoutTrailingZerosOrCurrencyFormatter:h}=d.useMemo(()=>{const i=o?{style:"currency",currency:t.currencyCode}:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2};return{defaultFormatter:p(e,i),nameFormatter:p(e,{...i,currencyDisplay:"name"}),narrowSymbolFormatter:p(e,{...i,currencyDisplay:"narrowSymbol"}),withoutTrailingZerosFormatter:p(e,{...i,minimumFractionDigits:0,maximumFractionDigits:0}),withoutCurrencyFormatter:p(e,{minimumFractionDigits:2,maximumFractionDigits:2}),withoutTrailingZerosOrCurrencyFormatter:p(e,{minimumFractionDigits:0,maximumFractionDigits:0})}},[t.currencyCode,e,o]),l=i=>i.type==="currency",f=d.useMemo(()=>({original:()=>t,currencyCode:()=>t.currencyCode,localizedString:()=>{const i=a().format(n);return o?i:`${i} ${t.currencyCode}`},parts:()=>{const i=a().formatToParts(n);return o||i.push({type:"literal",value:" "},{type:"currency",value:t.currencyCode}),i},withoutTrailingZeros:()=>{const i=n%1===0?s().format(n):a().format(n);return o?i:`${i} ${t.currencyCode}`},withoutTrailingZerosAndCurrency:()=>n%1===0?h().format(n):m().format(n),currencyName:()=>{var i;return((i=u().formatToParts(n).find(l))==null?void 0:i.value)??t.currencyCode},currencySymbol:()=>{var i;return((i=a().formatToParts(n).find(l))==null?void 0:i.value)??t.currencyCode},currencyNarrowSymbol:()=>{var i;return((i=y().formatToParts(n).find(l))==null?void 0:i.value)??""},amount:()=>a().formatToParts(n).filter(i=>["decimal","fraction","group","integer","literal"].includes(i.type)).map(i=>i.value).join("")}),[t,n,o,u,a,y,m,s,h]);return d.useMemo(()=>new Proxy(f,{get:(i,g)=>{var v;return(v=Reflect.get(i,g))==null?void 0:v.call(null)}}),[f])}const N=new Map;function p(t,r){const c=JSON.stringify([t,r]);return function(){let e=N.get(c);if(!e){try{e=new Intl.NumberFormat(t,r)}catch(n){if(n instanceof RangeError&&n.message.includes("currency")){const o={...r};delete o.currency,delete o.currencyDisplay,delete o.currencySign,e=new Intl.NumberFormat(t,o)}else throw n}N.set(c,e)}return e}}function et({data:t,as:r,withoutCurrency:c,withoutTrailingZeros:e,measurement:n,measurementSeparator:o="/",...a}){if(!P(t))throw new Error("<Money/> needs a valid 'data' prop that has 'amount' and 'currencyCode'");const u=K(t),y=r??"div";let s=u.localizedString;return(c||e)&&(c&&!e?s=u.amount:!c&&e?s=u.withoutTrailingZeros:s=u.withoutTrailingZerosAndCurrency),w.jsxs(y,{...a,children:[s,n&&n.referenceUnit&&w.jsxs(w.Fragment,{children:[o,n.referenceUnit]})]})}function P(t){return typeof t.amount=="string"&&!!t.amount&&typeof t.currencyCode=="string"&&!!t.currencyCode}const rt=d.forwardRef(({alt:t,aspectRatio:r,crop:c="center",data:e,decoding:n="async",height:o="auto",loader:a=b,loading:u="lazy",sizes:y,src:s,srcSetOptions:m={intervals:15,startingWidth:200,incrementSize:200,placeholderWidth:100},width:h="100%",...l},f)=>{const i=d.useMemo(()=>{const I=e!=null&&e.width&&(e!=null&&e.height)?e==null?void 0:e.width:void 0,x=e!=null&&e.width&&(e!=null&&e.height)?e==null?void 0:e.height:void 0;return{width:I,height:x,unitsMatch:!!D(I,x)}},[e]),g=d.useMemo(()=>{const x=F((h||"100%").toString()),U=`${x.number}${x.unit}`,j=o==null,T=j?null:F(o.toString()),W=T?`${T.number}${T.unit}`:"",k=j?"auto":W,Z=s||(e==null?void 0:e.url),L=e!=null&&e.altText&&!t?e==null?void 0:e.altText:t||"",V=r||(i.unitsMatch?[C(i.width),C(i.height)].join("/"):void 0);return{width:U,height:k,src:Z,alt:L,aspectRatio:V}},[h,o,s,e,t,r,i,l==null?void 0:l.key]),{intervals:v,startingWidth:S,incrementSize:M,placeholderWidth:R}=m,E=d.useMemo(()=>Y(h,v,S,M),[h,v,S,M]);return H(g.width)?w.jsx(Q,{aspectRatio:r,crop:c,decoding:n,height:o,imageWidths:E,loader:a,loading:u,normalizedProps:g,passthroughProps:l,ref:f,width:h,data:e}):w.jsx(X,{aspectRatio:r,crop:c,decoding:n,imageWidths:E,loader:a,loading:u,normalizedProps:g,passthroughProps:l,placeholderWidth:R,ref:f,sizes:y,data:e})}),Q=d.forwardRef(({aspectRatio:t,crop:r,decoding:c,height:e,imageWidths:n,loader:o=b,loading:a,normalizedProps:u,passthroughProps:y,width:s,data:m},h)=>{const l=d.useMemo(()=>{const f=C(s),i=C(e),g=t||(D(u.width,u.height)?[f,i].join("/"):u.aspectRatio?u.aspectRatio:void 0),v=n===void 0?void 0:O(n,g,r,{width:(m==null?void 0:m.width)??void 0,height:(m==null?void 0:m.height)??void 0}),S=i||(g&&f?f*($(g)??1):void 0),M=_(u.src,v,o),R=o({src:u.src,width:f,height:S,crop:u.height==="auto"?void 0:r});return{width:f,aspectRatio:g,height:S,srcSet:M,src:R}},[t,r,m,e,n,o,u,s]);return w.jsx("img",{ref:h,alt:u.alt,decoding:c,height:l.height,loading:a,src:l.src,srcSet:l.srcSet,width:l.width,style:{aspectRatio:l.aspectRatio,...y.style},...y})}),X=d.forwardRef(({crop:t,decoding:r,imageWidths:c,loader:e=b,loading:n,normalizedProps:o,passthroughProps:a,placeholderWidth:u,sizes:y,data:s},m)=>{const h=d.useMemo(()=>{const l=c===void 0?void 0:O(c,o.aspectRatio,t,{width:(s==null?void 0:s.width)??void 0,height:(s==null?void 0:s.height)??void 0}),f=o.aspectRatio&&u?u*($(o.aspectRatio)??1):void 0,i=_(o.src,l,e),g=e({src:o.src,width:u,height:f,crop:t});return{placeholderHeight:f,srcSet:i,src:g}},[t,s,c,e,o,u]);return w.jsx("img",{ref:m,alt:o.alt,decoding:r,height:h.placeholderHeight,loading:n,sizes:y,src:h.src,srcSet:h.srcSet,width:u,...a,style:{width:o.width,aspectRatio:o.aspectRatio,...a.style}})}),A="https://placeholder.shopify.com";function b({src:t,width:r,height:c,crop:e}){if(!t)return"";const n=new URL(t,A);return r&&n.searchParams.append("width",Math.round(r).toString()),c&&n.searchParams.append("height",Math.round(c).toString()),e&&n.searchParams.append("crop",e),n.href.replace(A,"")}function D(t="100%",r="auto"){return F(t.toString()).unit===F(r.toString()).unit}function F(t){const r=t.replace(/[0-9.]/g,""),c=parseFloat(t.replace(r,""));return{unit:r===""?c===void 0?"auto":"px":r,number:c}}function C(t){if(t===void 0)return;const{unit:r,number:c}=F(t.toString());switch(r){case"em":return c*16;case"rem":return c*16;case"px":return c;case"":return c;default:return}}function H(t){return typeof t=="number"||/\d(px|em|rem)$/.test(t)}function _(t,r,c=b){return t?(r==null?void 0:r.length)===0||!r?t:r.map((e,n)=>`${c({src:t,width:e.width,height:e.height,crop:e.crop})} ${r.length===3?`${n+1}x`:`${e.width??0}w`}`).join(", "):""}function Y(t="100%",r,c,e){const n=Array.from({length:r},(a,u)=>u*e+c),o=Array.from({length:3},(a,u)=>(u+1)*(C(t)??0));return H(t)?o:n}function $(t){if(!t)return;const[r,c]=t.split("/");return 1/(Number(r)/Number(c))}function O(t,r,c="center",e){if(t)return t.map(n=>({width:n,height:r?n*($(r)??1):void 0,crop:c})).filter(({width:n,height:o})=>!(e!=null&&e.width&&n>e.width||e!=null&&e.height&&o&&o>e.height))}export{rt as I,et as M};
